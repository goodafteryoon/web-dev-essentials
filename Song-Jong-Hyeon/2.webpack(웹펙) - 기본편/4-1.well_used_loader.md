# 자주 사용하는 로더

## css-loader
- css 파일을 자바스크립트에서 사용하려면 css를 모듈로 변환하는 작업 필요
- 로더 설치
`npm install -D css-loader`
- 웹팩 설정에 로더 추가(webpack.config.js)
```
module.exports = {
  module: {
    rules: [
      {
        test: /\.css$/, // .css 확장자로 끝나는 모든 파일
        use: ["css-loader"], // css-loader를 적용한다
      },
    ],
  },
}
```

## style-loader
- 모듈로 변경된 스타일 시트(css-loader 이용)는 돔에 추가되어야 해석 가능
- 즉, 원하는대로 css 파일을 적용하기 위해서는 style-loader 필요
- 로더 설치
`npm install -D style-loader`
- 웹팩 설정(webpack.config.js) 중 css 파일에 대한 처리 추가
```
module.exports = {
  module: {
    rules: [
      {
        test: /\.css$/,
        use: ["style-loader", "css-loader"], // style-loader를 앞에 추가한다
      },
    ],
  },
}
```
- use에 배열로 여러 loader를 넣을 수 있음
- 뒤에서부터 적용(css-loader -> style-loader)

## file-loader
- 모든 파일을 모듈로 사용하게끔 할 수 있음
- 로더 설치
`npm install -D file-loader`
- 웹팩 설정
```
module.exports = {
  module: {
    rules: [
      {
        test: /\.png$/, // .png 확장자로 마치는 모든 파일
        use: ["file-loader"], // 파일 로더를 적용한다
      },
    ],
  },
}
```
- path가 달라지고, hash 값으로 파일이름을 바꿔서 ./dist에 저장하기 때문에 이를 해결해야함
- 또한 png 파일 뿐만 아니라 다른 형식의 이미지 파일도 처리하도록 수정
- 웹팩 설정 추가
```
module.exports = {
  module: {
    rules: [
      {
        test: /\.(png|jpg|gif|svg)$/, // .png .jpg .gif .svg 확장자 중 하나로 마치는 모든 파일
        use: ["file-loader"], // 파일 로더를 적용한다
        options: {
          publicPath: "./dist/", // prefix를 아웃풋 경로로 지정
          name: "[name].[ext]?[hash]", // 파일명 형식
        },
      },
    ],
  },
}
```
- publicPath를 "./dist"로 설정하여, url에서 ./dist/~~.png 를 찾도록 한다.(output과 동일하도록)

## url-loader
- 이미지 갯수가 많다면 리소스에 부담이 있고, 성능에 영향을 줄 수 있다.
- 이미지를 Base64로 인코딩하여 문자열 형태로 소스코드에 넣으면 효율적(작은 파일에 대해)
- 로더 설치
`npm install -D url-loader`
- 웹팩 설정
```
{
  test: /\.png$/,
  use: {
    loader: 'url-loader', // url 로더를 설정한다
    options: {
      publicPath: './dist/', // file-loader와 동일
      name: '[name].[ext]?[hash]', // file-loader와 동일
      limit: 5000 // 5kb 미만 파일만 data url로 처리
    }
  }
}
```
- 실행 후 dist 폴더에 5kb 미만의 파일은 존재 x

## 기타 키워드
### base 64 인코딩
- binary data(0101로 표현되어 있는, 예시로 대부분의 이미지)를 text로 바꾸는 방식
- 6 bit씩 data를 자른 뒤 변환